# 错误码

> 如果成功调用扣子的 API，返回信息中 code 字段为 0。如果状态码为其他值，则表示接口调用失败。此时 msg 字段中包含详细错误信息，你可以根据下表查看对应的解决方法。  
> 如需获取帮助，请记录以下错误信息，并联系扣子技术支持，我们将协助您排查问题。  
> - Response header 中的 X-Tt-Logid 字段值，例如 `20240708143040790E78F9318B35A2910B`。你可以在使用 curl 发起请求时通过 `-i` 参数打印 Response header 完整内容。  
> - Response Body 中的 code、msg 字段值，例如 `{ "code": 700012006, "msg": "access token invalid" }`。

| code | msg | 说明 |
|------|-----|------|
| 4000 | 请求参数错误 | **原因**：请求参数错误，主要原因包括参数格式错误、必选参数缺失等。<br>**解决方案**：请参考 API 文档检查请求参数。 |
| 4001 | Invalid chat（包括chat id错误，chat 找不到） | **原因**：指定对话不存在。主要原因包括 chat id 错误、当前账号无此 chat 的权限等。<br>**解决方案**：请检查 chat id 后重试。 |
| 4002 | invalid conversation（包括conversation id错误，conversation 找不到） | **原因**：指定会话不存在。主要原因包括 conversation id 错误、当前账号无此 conversation 的权限等。<br>**解决方案**：请检查 conversation id 后重试。 |
| 4003 | meta data 超过限制 | **原因**：meta_data 字段的传参超出字段限制。<br>**解决方案**：请参考 API 文档检查请求参数。 |
| 4004 | additional messages超过限制 | **原因**：additional_messages 字段的传参超出字段限制。<br>**解决方案**：请参考 API 文档检查请求参数。 |
| 4005 | invalid message（包括message id错误，message content错误） | **原因**：指定消息不存在。主要原因包括 message id 错误、当前账号无此 message 的权限、content 内容不符合要求等。<br>**解决方案**：请检查 message id 和 content 后重试。 |
| 4006 | invalid bot（包括bot id错误，bot 找不到） | **原因**：指定智能体不存在。主要原因包括智能体id 错误、当前账号无此智能体的权限等。<br>**解决方案**：请检查智能体id 后重试。 |
| 4007 | 流false仅在自动保存为true时允许 | **原因**：非流式响应下（stream=false），auto_save_history 必须设置为 true，即保存历史对话，否则无法查看对话状态和模型回复。<br>**解决方案**：修改请求参数设置，详细说明可参考发起对话。 |
| 4008 | 用户限流 | **原因**：当日智能体使用次数超过限制。<br>**解决方案**：请明日再试。 |
| 4009 | 已达系统请求上限，请稍后重试 | **原因**：当前使用人数过多。<br>**解决方案**：请稍后再试。 |
| 4010 | 当前问题请求的 prompt token 数量超过模型上限 | **原因**：当前问题请求的 prompt token 数量超过模型上限。<br>**解决方案**：建议缩短问题长度后重试。 |
| 4011 | 当前账户的 Coze Token 余额不足 | **原因**：当前账户的 Coze Token 余额不足。<br>**解决方案**：建议充值后重试。 |
| 4012 | invalid model | **原因**：无效模型，可能原因包括模型从扣子平台下架等。<br>**解决方案**：建议更换智能体的模型之后重试。 |
| 4013 | 模型错误 | **原因**：模型服务报错。<br>**解决方案**：建议稍后重试。 |
| 4014 | 问题无法回答 | **原因**：智能体无法回答此问题。<br>**解决方案**：请更换问题后重试。 |
| 4015 | bot 未发布到API | **原因**：此智能体未发布为 API 服务。<br>**解决方案**：请参考准备工作完成 API 调用前的准备工作。 |
| 4016 | 当前会话已有chat在运行 | **原因**：当前会话中已有运行中的对话，请等待对话完成后再发起新的对话。<br>**解决方案**：请更换会话后重试。 |
| 4019 | 火山Bot调用按量余额不足 | **原因**：账号已欠费。<br>**解决方案**：为了不影响产品的正常使用，请及时充值。 |
| 4020 | 火山Bot调用超出RPM峰值 | **原因**：当前 RPM 已超出购买的额度。<br>**解决方案**：为了不影响产品的正常使用，请增加 RPM 的额度。 |
| 4021 | 工作流未配置 | **原因**：当前会话中已有运行中的对话，请等待对话完成后再发起新的对话。<br>**解决方案**：请更换会话后重试。 |
| 4022 | 模型欠费 | **原因**：火山方舟模型服务已欠费。<br>**解决方案**：为了不影响产品的正常使用，请及时结清欠款恢复账号。 |
| 4100 | 身份验证无效 | **原因**：个人访问令牌（PAT）不正确。<br>**解决方案**：请检查后重试。 |
| 4101 | 没有权限访问该资源 | **原因**：当前使用的个人访问令牌没有权限访问该资源。<br>**解决方案**：请检查个人访问令牌的权限后重试。 |
| 4102 | 命中风控拦截 | **原因**：系统检测到异常活动。<br>**解决方案**：请稍后重试。若持续报错，请根据此错误码和 X-Tt-Logid 提交反馈，帮助我们快速定位问题。 |
| 4104 | 当前对话不支持取消 | **原因**：当前的对话状态为 completed、failed 或 requires_action，不支持取消对话。<br>**解决方案**：确认对话 ID 和对话状态。 |
| 4105 | 内容包含敏感信息,请修改后重新提交 | **原因**：当前发布智能体包含敏感信息。<br>**解决方案**：请检查智能体的人设及回复逻辑、开场白等配置，删除敏感词后重新尝试发布。 |
| 4200 | 资源未找到 | **原因**：未找到该资源，主要原因包括资源 ID 错误、此资源并非由当前账号创建等。<br>**解决方案**：建议检查资源 ID 后重试。 |
| 4201 | 企业/团队人员已存在，请勿重复添加。<br>组织成员已经存在，请不要重复加入。 | **原因**：待添加的人员已在目标企业 / 团队 / 组织中，重复发起添加操作。<br>**解决方案**：建议检查目标企业 / 团队 / 组织中是否已存在待添加人员，如已存在，请勿重复添加。 |
| 4300 | 上传文件时文件为空 | **原因**：待上传的文件为空，主要原因为指定的文件名称或路径不存在、请求头 Content-Type 未指定为 multipart/form-data 等。<br>**解决方案**：建议参考 API 文档检查相关设置。 |
| 4301 | 文件上传时超过一个 | **原因**：每次调用上传文件接口，只能上传一个文件。<br>**解决方案**：建议分批上传。 |
| 4302 | 文件上传大小超过限制 | **原因**：待上传的文件大小超出接口限制。<br>**解决方案**：建议更换文件后重试。其他限制可参考上传文件。 |
| 4303 | 文件类型不支持 | **原因**：文件格式问题，暂不支持上传此类型的文件。<br>**解决方案**：其他限制可参考上传文件。 |
| 4304 | 文件无效 | **原因**：文件故障等问题。<br>**解决方案**：建议更换文件后重试。 |
| 4314 | 未找到执行记录 | **原因**：没有找到指定工作流的该执行记录。<br>**解决方案**：建议更换 execute_id 或 workflow_id 后重试。 |
| 4315 | 执行已结束 | **原因**：工作流执行结束，无法恢复运行。<br>**解决方案**：确认工作流 ID 是否正确。 |
| 5000 | 服务器内部错误 | **原因**：服务端内部错误。<br>**解决方案**：请稍后重试。若持续报错，请根据此错误码提交反馈，帮助我们快速定位问题。 |